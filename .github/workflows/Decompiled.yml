name: Simple RPYC ConverterðŸ˜ˆâ˜ ï¸ðŸ’€

on:
  workflow_dispatch:

jobs:
  convert:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup and Convert
      run: |
        # Download converter tool
        wget https://raw.githubusercontent.com/CensoredUsername/unrpyc/master/unrpyc.py
        
        # Convert all rpyc files
        mkdir -p converted_rpy
        for file in to_rpy/*.rpyc; do
          if [ -f "$file" ]; then
            echo "Converting: $file"
            python3 unrpyc.py -c "$file" > "converted_rpy/$(basename "$file" .rpyc).rpy"
          fi
        done
        
        # Show results
        ls -la converted_rpy/
        
    - name: Upload Results
      uses: actions/upload-artifact@v4
      with:
        name: converted-files
        path: converted_rpy/